<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MINIBUS-ZP | Rozkłady Jazdy | Komunikaty</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Roboto+Mono&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      /* ================================================================== */
      /* CSS - WERSJA POPRAWIONA I UPORZĄDKOWANA                        */
      /* ================================================================== */

      /* --- Style ogólne --- */
      body {
        font-family: "Roboto", sans-serif;
      }

      .shadow-text {
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.25);
      }

      .hero-background {
        background-image: linear-gradient(
            rgba(0, 0, 0, 0.5),
            rgba(0, 0, 0, 0.5)
          ),
          url("img/tlo.jpg");
        background-size: cover;
        background-position: center;
      }

      /* --- Nawigacja mobilna --- */
      .main-nav.active {
        display: block !important;
      }

      /* --- Sekcja Rozkładów Jazdy --- */
      .schedule-selector-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1rem;
        margin-bottom: 2rem;
      }

      .schedule-selector-btn {
        background-color: #f0f0f0;
        border: 1px solid #ddd;
        padding: 1rem;
        border-radius: 8px;
        text-align: center;
        font-size: 1.1em;
        font-weight: bold;
        cursor: pointer;
        transition: background-color 0.3s, box-shadow 0.3s, color 0.3s;
      }

      .schedule-selector-btn:hover,
      .schedule-selector-btn.active {
        background-color: #ea580c;
        color: white;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }

      .schedule-details-container {
        margin-top: 2rem;
        padding: 1.5rem;
        background-color: #ffffff;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
      }

      #schedule-placeholder-text {
        text-align: center;
        padding: 25px;
        font-size: 1rem;
      }

      .schedule-direction {
        margin-bottom: 2rem;
      }

      .schedule-direction h4 {
        font-size: 1.2em;
        color: #333;
        margin-bottom: 0.5rem;
      }

      .toggle-full-schedule-btn {
        display: block;
        padding: 0.4rem 1rem;
        font-size: 1em;
        font-weight: bold;
        color: #ea580c;
        border: 1px solid #ea580c;
        border-radius: 6px;
        cursor: pointer;
        transition: background-color 0.3s, color 0.3s;
      }

      .toggle-full-schedule-btn:hover {
        color: white;
        background-color: #ea580c;
      }

      /* --- Siatka z godzinami --- */
      .time-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(80px, max-content));
        gap: 0.75rem;
      }

      .time-box {
        display: flex;
        align-items: baseline; /* Lepsze wyrównanie tekstu i adnotacji */
        justify-content: center;
        padding: 6px 8px;
        border-radius: 6px;
        font-family: "Roboto Mono", monospace; /* Lepszy font dla godzin */
        font-size: 1em;
        white-space: nowrap;
        transition: background-color 0.3s, color 0.3s;
      }

      .time-box[title] {
        cursor: help;
      }

      /* Klasy dla tła godzin */
      .bg-no-background {
        background-color: transparent;
        color: #a0a0a0;
        border: 1px solid #e5e5e5;
      }

      .bg-light-gray {
        background-color: #f3f4f6;
        color: #1f2937;
      }

      .bg-light-red {
        background-color: #ffedd5;
        color: #9a3412;
        font-weight: bold;
      }

      /* Style dla adnotacji przy godzinie */
      .time-note {
        font-size: 1em;
        font-weight: bold;
        color: #c2410c;
        margin-left: 5px;
      }

      /* Styl dla legendy pod rozkładem */
      .notes-legend {
        border-left: 3px solid #e2e8f0;
        padding-left: 1rem;
        font-style: italic;
      }

      /* Style dla powiadomień "toast" na mobile */
      #toast-container {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translate(-50%, 120px);
        background-color: #2c3e50;
        color: white;
        padding: 12px 20px;
        border-radius: 25px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        z-index: 1000;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.4s ease, transform 0.4s ease;
        font-size: 14px;
        text-align: center;
        pointer-events: none;
      }

      #toast-container.show {
        opacity: 1;
        visibility: visible;
        transform: translate(-50%, 0);
      }
    </style>
  </head>

  <body class="bg-gray-50">
    <header class="main-header bg-white shadow-md sticky top-0 z-50">
      <div
        class="container mx-auto flex justify-between items-center p-4 header-content"
      >
        <div class="logo text-2xl font-bold text-orange-600 min-w-[150px]">
          <a href="#">MINIBUS-ZP</a>
        </div>
        <nav
          class="main-nav hidden md:flex absolute md:relative top-full left-0 w-full bg-white md:bg-transparent shadow-md md:shadow-none justify-center flex-1"
        >
          <ul
            class="flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-8 p-4 md:p-0 text-right"
          >
            <li>
              <a
                href="#schedules-section"
                class="text-gray-600 hover:text-orange-600 pb-1 border-b-2 border-transparent hover:border-orange-600 transition whitespace-nowrap"
                >Rozkłady Jazdy</a
              >
            </li>
            <li>
              <a
                href="#announcements-section"
                class="text-gray-600 hover:text-orange-600 pb-1 border-b-2 border-transparent hover:border-orange-600 transition whitespace-nowrap"
                >Komunikaty</a
              >
            </li>
            <li>
              <a
                href="#tickets-section"
                class="text-gray-600 hover:text-orange-600 pb-1 border-b-2 border-transparent hover:border-orange-600 transition whitespace-nowrap"
                >Bilety & FAQ</a
              >
            </li>
            <li>
              <a
                href="#contact-section"
                class="text-gray-600 hover:text-orange-600 pb-1 border-b-2 border-transparent hover:border-orange-600 transition whitespace-nowrap"
                >Kontakt</a
              >
            </li>
            <li class="md:hidden">
              <a
                href="tel:+48604619863"
                class="text-lg font-semibold text-orange-600 whitespace-nowrap"
                >+48 604 619 863</a
              >
            </li>
          </ul>
        </nav>
        <div class="contact-info hidden lg:block min-w-[150px] text-right">
          <a
            href="tel:+48604619863"
            class="text-lg font-semibold text-orange-600 whitespace-nowrap"
            >+48 604 619 863</a
          >
        </div>
        <button
          class="mobile-nav-toggle md:hidden text-3xl z-50"
          aria-label="Toggle navigation"
        >
          ☰
        </button>
      </div>
    </header>

    <main>
      <section
        id="hero-section"
        class="hero-section text-white text-center py-20 bg-cover bg-center hero-background"
      >
        <div class="container mx-auto px-4">
          <h1 class="text-4xl md:text-5xl font-bold mb-4 shadow-text">
            MINIBUS-ZP - Podróż każdego dnia
          </h1>
          <div
            class="flex flex-col sm:flex-row justify-center items-center gap-4 mt-8 px-4"
          >
            <a
              href="#schedules-section"
              class="button primary bg-white text-orange-600 font-bold py-3 px-6 rounded-lg shadow-lg hover:bg-gray-100 transition w-full sm:w-auto sm:px-4"
              >Sprawdź rozkład</a
            >
            <a
              href="#announcements-section"
              class="button secondary bg-orange-500 text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:bg-orange-400 transition w-full sm:w-auto sm:px-4"
              >Zobacz komunikaty</a
            >
          </div>
        </div>
      </section>

      <section
        id="announcements-section"
        class="section announcements-section py-16"
      >
        <div class="container mx-auto px-4 max-w-4xl">
          <h2 class="text-3xl font-bold text-center mb-10">
            Najnowsze komunikaty
          </h2>
          <div
            class="announcements-grid grid grid-cols-1 md:grid-cols-[repeat(auto-fit,minmax(300px,1fr))] gap-8"
            id="announcements-container"
          >
            <p class="text-center col-span-full text-xl py-20">
              Ładowanie komunikatów...
            </p>
          </div>
        </div>
      </section>

      <section
        id="schedules-section"
        class="section schedules-section py-16 bg-gray-100"
      >
        <div class="container mx-auto px-4">
          <h2 class="text-3xl font-bold text-center mb-8">Rozkłady jazdy</h2>
          <p
            id="schedule-placeholder-text"
            class="text-center text-gray-600 p-4 mb-6 rounded-lg border border-gray-200 bg-white shadow-sm"
          >
            Wybierz trasę, aby wyświetlić szczegółowy rozkład jazdy.
          </p>
          <div
            id="schedule-selector-container"
            class="schedule-selector-grid"
          ></div>
          <div
            id="schedule-details-container"
            class="schedule-details-container hidden"
          ></div>
        </div>
      </section>

      <section id="tickets-section" class="section tickets-section py-16">
        <div class="container mx-auto px-4 max-w-4xl">
          <h2 class="text-3xl font-bold text-center mb-10">
            Bilety miesięczne (FAQ)
          </h2>
          <div class="space-y-6">
            <div class="faq-item bg-white p-6 rounded-lg shadow">
              <h3 class="font-bold text-xl mb-2">
                Jak kupić bilet miesięczny?
              </h3>
              <p>
                Bilety miesięczne dostępne są w punkcie sprzedaży na Dworcu
                Dekada w Myślenicach, stanowisko nr 8, od 25. dnia poprzedniego
                miesiąca. Terminy sprzedaży biletów miesięcznych są publikowane
                w komunikatach.
              </p>
            </div>
            <div class="faq-item bg-white p-6 rounded-lg shadow">
              <h3 class="font-bold text-xl mb-2">
                Czy mogę kupić bilet u kierowcy?
              </h3>
              <p>
                Bilety jednorazowe można kupić bezpośrednio u kierowcy. Sprzedaż
                biletów miesięcznych odbywa się wyłącznie w punkcie sprzedaży na
                Dworcu Dekada w Myślenicach.
              </p>
            </div>
            <div class="faq-item bg-white p-6 rounded-lg shadow">
              <h3 class="font-bold text-xl mb-2">
                Czy są zniżki dla uczniów/studentów?
              </h3>
              <p>
                Tak, oferujemy zniżki ustawowe dla uczniów i studentów po
                okazaniu ważnej legitymacji szkolnej/studenckiej.
              </p>
            </div>
            <div class="text-center pt-10">
              <a
                href="docs/UPOWAZNIENIE-DO-PRZEKAZYWANIA-DANYCH.pdf"
                class="button secondary bg-orange-500 text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:bg-orange-400 transition w-full sm:w-auto sm:px-4"
                target="_blank"
                download
                >Pobierz formularz RODO</a
              >
            </div>
          </div>
        </div>
      </section>

      <section
        id="contact-section"
        class="section contact-section py-16 bg-gray-800 text-white"
      >
        <div class="container mx-auto px-4">
          <h2 class="text-3xl font-bold text-center mb-10">Kontakt</h2>
          <div
            class="contact-info-grid grid grid-cols-1 md:grid-cols-3 gap-8 text-center"
          >
            <div class="contact-item">
              <h3 class="text-xl font-bold mb-2">Telefon</h3>
              <p>
                <a
                  href="tel:+48604619863"
                  class="text-orange-300 hover:text-orange-200 text-lg"
                  >+48 604 619 863</a
                >
              </p>
            </div>
            <div class="contact-item">
              <h3 class="text-xl font-bold mb-2">Email</h3>
              <p>
                <a
                  href="mailto:minibus@and.pl"
                  class="text-orange-300 hover:text-orange-200 text-lg"
                  >minibus@and.pl</a
                >
              </p>
            </div>
            <div class="contact-item">
              <h3 class="text-xl font-bold mb-2">Adres</h3>
              <p class="text-lg">Stojowice 96<br />32-410 Dobczyce</p>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer class="main-footer bg-gray-900 text-gray-400 py-8">
      <div class="container mx-auto footer-content text-center">
        <nav class="footer-nav mb-4">
          <ul class="flex justify-center space-x-6">
            <li>
              <a href="#schedules-section" class="hover:text-white"
                >Rozkłady Jazdy</a
              >
            </li>
            <li>
              <a href="#announcements-section" class="hover:text-white"
                >Komunikaty</a
              >
            </li>
            <li>
              <a href="#tickets-section" class="hover:text-white"
                >Bilety & FAQ</a
              >
            </li>
          </ul>
        </nav>
        <p class="copyright">
          &copy;
          <script>
            document.write(new Date().getFullYear());
          </script>
          MINIBUS-ZP. Wszelkie prawa zastrzeżone.
        </p>
      </div>
    </footer>

    <div id="toast-container"></div>

    <script src="schedules.js"></script>
    <script src="script.js"></script>
  </body>
</html>
